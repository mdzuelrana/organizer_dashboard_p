
{% extends "dashboard.html" %}
{% load static %}
{% block dash %}

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            <a href="{%url 'dashboard'%}?type=all">
            <div class="bg-white p-6 rounded-xl shadow-md">
                <h3 class="font-medium text-gray-500 text-sm mb-4">TOTAL Event</h3>
                <div class="flex justify-between items-start">
                    <div>
                        <p class="font-semibold text-3xl mb-1">{{counts.total_event}}</p>
                        
                    </div>
                    <div class="bg-blue-100 p-3 rounded-full">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" 
                        class="w-6 h-6 text-blue-600">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184" />
                        </svg>

                    </div>
                </div>
            </div>
             </a>

            <a href="{%url 'dashboard'%}?type=upcoming">
            <div class="bg-white p-6 rounded-xl shadow-md">
                <h3 class="font-medium text-gray-500 text-sm mb-4">Upcoming Event</h3>
                <div class="flex justify-between items-start">
                    <div>
                        <p class="font-semibold text-3xl mb-1">{{counts.upcoming_event}}</p>
                        
                    </div>
                    <div class="bg-green-100 p-3 rounded-full">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" 
                        class="w-6 h-6 text-green-600">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                        </svg>


                    </div>
                </div>
            </div>
            </a>

            <a href="{%url 'dashboard'%}?type=past">
            <div class="bg-white p-6 rounded-xl shadow-md">
                <h3 class="font-medium text-gray-500 text-sm mb-4">Past Event</h3>
                <div class="flex justify-between items-start">
                    <div>
                        <p class="font-semibold text-3xl mb-1">{{counts.past_event}}</p>
                        
                    </div>
                    <div class="bg-yellow-100 p-3 rounded-full">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" 
                        class="w-6 h-6 text-yellow-600">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                        </svg>


                    </div>
                </div>
            </div>
             </a>
             
             <a href="{%url 'dashboard'%}?type=participants">
            <div class="bg-white p-6 rounded-xl shadow-md">
                <h3 class="font-medium text-gray-500 text-sm mb-4">Total Participant</h3>
                <div class="flex justify-between items-start">
                    <div>
                        <p class="font-semibold text-3xl mb-1">{{counts.total_participant}}</p>
                        
                    </div>
                    <div class="bg-purple-100 p-3 rounded-full">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6 text-yellow-600">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z" />
                        </svg>


                    </div>
                </div>
            </div>
             </a>


        </div>

        
        <div class="bg-white p-6 rounded-xl shadow mt-6 w-auto">
            {% if filter_type == "participants" %}
                    <div class="bg-white p-6 rounded-xl shadow mt-6">
                        <h2 class="text-xl font-semibold mb-4">All Participants</h2>

                        <table class="w-full border text-sm">
                            <thead class="bg-gray-100">
                                <tr>
                                    <th class="p-3 text-left">Name</th>
                                    <th class="p-3 text-left">Email</th>
                                    
                                </tr>
                            </thead>
                            <tbody>
                                {% for participant in participants %}
                                <tr class="border-t">
                                    <td class="p-3">{{ participant.name }}</td>
                                    <td class="p-3">{{ participant.email }}</td>
                                    
                                </tr>
                                {% empty %}
                                <tr>
                                    <td colspan="3" class="p-4 text-center text-gray-500">
                                        No participants found.
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
            
            {% else %}

                <h2 class="text-xl font-semibold mb-4 capitalize">
                    {{ filter_type }} Events
                </h2>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    {% for event in events %}
                    <div class="bg-white p-5 rounded-xl shadow hover:shadow-lg transition ">
                        <img src=" {% static "images/image.png" %} " alt="" class="object-cover">
                        <h3 class="text-xl font-bold mb-2">Name: {{ event.name }}</h3>
                        
                        <p class="text-gray-600 text-sm mb-1">
                             {{ event.date }} | {{ event.time }}
                        </p>

                        <p class="text-gray-600 text-sm mb-1">
                            <span>Location: </span>{{ event.location }}
                        </p>

                        <p class="text-gray-600 text-sm mb-2">
                            <span>Category: </span> <span class="font-medium">{{ event.category.name }}</span>
                        </p>

                        <div class="flex justify-between items-center mt-4">
                            <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">
                                {{ event.participant.count }} Participants
                            </span>

                            <a href="{% url 'view_details' event.id %}" class="text-blue-600 hover:underline text-sm">
                                View Details
                            </a>
                        </div>
                    </div>
                    {% empty %}
                    <p class="text-gray-500 col-span-3 text-center">
                        No {{ filter_type }} events found.
                    </p>
                    {% endfor %}
                </div>
            {% endif %}
        </div> 


</div>



       

        {% endblock dash %} 


         